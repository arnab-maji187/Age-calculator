<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Age Calculator</title>
    <link rel="stylesheet" href="age.css">
</head>
<body>
    <div class="hero">
        <div class="container">
            <h1 class="heading">Javascript</h1>
            <h1 class="sub-heading">Age Calculator</h1>
            <div class="calculator">
                <input type="date" id="date">
                <button id="calculate">calculate</button>
            </div>
            <p>You are <span id="year">0</span> years, <span id="month">0</span> months and <span id="day">0</span> days old</p>
        </div>
    </div>

    <script>
        const userInput = document.getElementById("date");
        const inputDay = document.getElementById("day");
        const inputMonth = document.getElementById("month");
        const inputYear = document.getElementById("year");
        const calculateDate = document.getElementById("calculate");
        userInput.max = new Date().toISOString().split("T")[0];

        function getAge(){
            let birthDate = new Date(userInput.value);

            let d1 = birthDate.getDate();
            let m1 = birthDate.getMonth()+1;
            let y1 = birthDate.getFullYear();

            let today = new Date();

            let d2 = today.getDate();
            let m2 = today.getMonth()+1;
            let y2 = today.getFullYear();

            let d3,m3,y3;

            y3 = y2 - y1;

            if(m2>=m1){
                m3 = m2-m1;
            }else{
                y3--;
                m3 = (m2+12)-m1;
            }

            if(d2>=d1){
                d3 = d2 - d1;
            }else{
                m3--;
                d3 = getDaysInMonth(y1,m1)+d2-d1;
            }

            inputDay.innerHTML = `${d3}`;
            inputMonth.innerHTML = `${m3}`;
            inputYear.innerHTML = `${y3}`;

        }
        function getDaysInMonth(year,month){
            return new Date(year,month,0).getDate();
        }

        calculateDate.addEventListener("click", getAge);

    </script>
</body>
</html>